#### 1、虚拟机创建

```shell
#VMware-17.0.0
网段：192.168.10.1/24
#创建开发虚拟机develop：编写，测定，打包应用程序
Ubuntu-22.04.2
IP：192.168.10.10
#创建服务器虚拟机sernode：部署多个集群服务
Centos-7
IP：192.168.10.20
```



#### 2、开发结点配置

```shell
#启用root
sudo passwd
su root 
#修改IP
DNS:8.8.8.8
#关闭防火墙
ufw disable
#更换软件源
apt update
apt upgrade
#开启SSH
apt install openssh-server
service ssh restart
#安装vmtools
apt install open-vm-tools
#安装vim
apt install vim
#网络工具包
apt install net-tools
#安装图形化界面
apt install ubuntu-desktop
apt install lightdm
service lightdm start
apt install xrdp

#安装docker
apt install apt-transport-https ca-certificates curl gnupg lsb-release
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
apt install docker-ce docker-ce-cli containerd.io
docker run hello-world



#安装idea
tar -xzvf <JetBrains-Toolbox-file>.tar.gz

vi ~/.bashrc
export PATH="$PATH:/path/to/idea/bin"
source ~/.bashrc

cd ~/.local/share/applications/
nano jetbrains-toolbox.desktop

[Desktop Entry]
Version=<IntelliJ-IDEA-Version>
Type=Application
Name=IntelliJ IDEA Ultimate Edition
Icon=/path/to/intellij-idea/bin/idea.png
Exec="/path/to/intellij-idea/bin/idea.sh" %f
Comment=The Drive to Develop
Categories=Development;IDE;
Terminal=false
StartupWMClass=jetbrains-idea

update-desktop-database ~/.local/share/applications/



#idea配置



#安装DataGrip
tar -xzvf <JetBrains-Toolbox-file>.tar.gz

vi ~/.bashrc
export PATH="$PATH:/path/to/datagrip/bin"
source ~/.bashrc

cd ~/.local/share/applications/
nano datagrip.desktop

[Desktop Entry]
Version=<DataGrip-Version>
Type=Application
Name=DataGrip
Icon=/path/to/datagrip/bin/datagrip.svg
Exec="/path/to/datagrip/bin/datagrip.sh" %f
Comment=The Drive to Develop
Categories=Development;IDE;
Terminal=false
StartupWMClass=jetbrains-datagrip

X-AppStream-Ignore=true

update-desktop-database ~/.local/share/applications/


#保存快照

#安装jdk
tar -zxvf jdk-8u51-linux-x64.tar.gz
vi ~/.bashrc
export JAVA_HOME=/usr/java/jdk1.8.0_51
export JRE_HOME=${JAVA_HOME}/jre  
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  
export PATH=${JAVA_HOME}/bin:$PATH
source ~/.bashrc


#安装maven
tar -zxvf apache-maven-3.8.4-bin.tar.gz
vi ~/.bashrc
export MAVEN_HOME="/home/dacao/Documents/apache-maven-3.8.4/bin"
export PATH="$PATH:$MAVEN_HOME"
source ~/.bashrc
mvn -v

cd /opt/apache-maven-3.8.6/conf
vim settings.xml
<mirrors>
    <mirror> 
    <id>alimaven</id> 
        <name>aliyun maven</name> 
            <url>http://maven.aliyun.com/nexus/content/groups/public/</url> 
        <mirrorOf>central</mirrorOf> 
    </mirror> 
</mirrors>




#安装Anaconda
bash Anaconda3-2022.10-Linux-x86_64.sh -p anaconda/ -u
vi ~/.bashrc
export PATH=$PATH:/home/hadoop/anaconda/anaconda/envs/work/lib/python3.10/site-packages
export PATH=/home/hadoop/anaconda/anaconda/bin:$PATH
source ~/.bashrc
conda create --name pyenv python=3.10
conda activate pyenv



#安装vscode
tar -xzvf <visual-studio-code-file>.tar.gz
sudo dpkg -i <VSCode-Installer>.deb

vi ~/.bashrc
export PATH="$PATH:/path/to/vscode/bin"
source ~/.bashrc

cd ~/.local/share/applications/
nano code.desktop

[Desktop Entry]
Version=<VSCode-Version>
Type=Application
Name=Visual Studio Code
Icon=/path/to/vscode/resources/app/resources/linux/code.png
Exec="/path/to/vscode/bin/code" %f
Comment=The Drive to Develop
Categories=Development;IDE;
Terminal=false
StartupWMClass=Code
X-AppStream-Ignore=true

update-desktop-database ~/.local/share/applications/


#vscode配置


#保存快照
```



#### 3、服务器结点配置

**基础配置：**

```shell
#配置IP
vi  /etc/sysconfig/network-scripts/ifcfg-ens33 
BOOTPROTO=static#启用静态IP地址
ONBOOT=yes  #开启自动启用网络连接
IPADDR=192.168.10.20   #设置网关
GATEWAY=192.168.10.2
NETMASK=255.255.255.0
DNS=8.8.8.8	#DNS不是谷歌的docker拉取不到镜像
service network restart 

#安装vim
yum install vim


#关闭防火墙及selinux
systemctl stop firewalld
systemctl disable firewalld
setenforce 0
sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config


#安装JDK8
tar -zxvf jdk-8u371-linux-aarch64.tar.gz
vim ~/.bashrc
export JAVA_HOME=/home/sernode/jdk/jdk1.8.0_371
export JRE_HOME=${JAVA_HOME}/jre  
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib  
export PATH=${JAVA_HOME}/bin:$PATH
source ~/.bashrc


#安装docker
su root
yum install -y yum-utils
yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
yum install docker-ce docker-ce-cli containerd.io
systemctl start docker
docker run hello-world
systemctl enable docker.service
#添加docker用户组
su sernode
sudo groupadd docker          
sudo gpasswd -a $sernode docker  
sudo gpasswd -a $USER docker
newgrp docker               
#保存快照
```



**搭建Mysql集群：**

```shell

```





**搭建Redis集群：**

```shell

```





**搭建Elasticsearch集群：**

```shell

```





**搭建Kafka集群：**

```shell

```





**搭建springcloud集群：**

```shell

```





**搭建大数据集群：**

```shell

```





