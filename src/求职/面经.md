### 1、Java8新特性

Java8新特性包括**Lambda表达式、Stream API、接口默认方法**等

Java11新特性包括**ZGC、Epsilon GC、HTTP Client API**等²

Java17新特性包括**Sealed Class**。

### 2、Java内存模型

Java内存模型（Java Memory Model，JMM）是一种**虚拟机规范**，用于**屏蔽掉各种硬件和操作系统的内存访问差异**，以实现让**Java程序在各种平台下都能达到一致的并发效果**。Java内存模型是通过**在变量修改后将新值同步回主内存**，**在变量读取前从主内存刷新变量值**的这种依赖主内存作为传递媒介的方式来实现的。Java 内存模型还规定了在执行八种基本操作时，必须满足如下规则：**不允许 read 和 load、store 和write 操作之一单独出现**；**不允许一个线程丢弃它的最近 assign 的操作，即变量在工作内存中改变了之后必须同步到主内存中**；**不允许一个线程无原因地（没有发生过任何相关的同步操作）看到另一个线程的操作结果**；**如果一个变量被 volatile 修饰，则对它的写操作就会立即刷新到主内存中，而读操作就会从主内存中读取最新值**。

### 3、**TCP 和 UDP 区别：**

*1. **连接***

- TCP 是面向连接的传输层协议，传输数据前先要建立连接。
- UDP 是不需要连接，即刻传输数据。

*2. 服务对象*

- TCP 是一对一的**两点服务**，即一条连接只有两个端点。
- UDP 支持**一对一、一对多、多对多**的交互通信

*3. 可靠性*

- TCP 是**可靠交付数据**的，数据可以无差错、不丢失、不重复、按序到达。
- UDP 是尽最大努力交付，不保证可靠交付数据。

*4. 拥塞控制、流量控制*

- TCP 有**拥塞控制和流量控制**机制，保证数据传输的安全性。
- UDP 则没有，即使网络非常拥堵了，也不会影响 UDP 的发送速率。

*5. 首部开销*

- **TCP 首部长度较长**，会有一定的开销，首部在没有使用「选项」字段时是 `20` 个字节，如果使用了「选项」字段则会变长的。
- UDP 首部只有 8 个字节，并且是固定不变的，开销较小。

*6. 传输方式*

- TCP 是**流式传输**，没有边界，但保证顺序和可靠。
- UDP 是**一个包一个包的发送**，是有边界的，但可能会丢包和乱序。

*7. 分片不同*

- TCP 的数据大小如果大于 **MSS** 大小，则会在传输层进行分片，目标主机收到后，也同样在传输层组装 TCP 数据包，如果中途丢失了一个分片，只需要传输丢失的这个分片。
- UDP 的数据大小如果大于 MTU 大小，则会**在 IP 层进行分片**，目标主机收到后，在 IP 层组装完数据，接着再传给传输层。

### 3、TCP 和 UDP 应用场景

由于 TCP 是面向连接，能保证数据的可靠性交付，因此经常用于：

- `FTP` **文件传输**；
- **HTTP / HTTPS**；

由于 UDP 面向无连接，它可以随时发送数据，再加上UDP本身的处理既简单又高效，因此经常用于：

- 包总量较少的通信，如 **`DNS` 、`SNMP`** 等；
- **视频、音频**等多媒体通信；
- **广播**通信；

### 4、kafka重复消费和消息丢失

**重复消费**

消费后的数据，offset没有提交（消费系统宕机、重启、自动提交）



**消息丢失**

producer发送消息后，由于网络等原因，没有到kafka;

Kafka为了提高吞吐量和性能，采用**异步批量的刷盘**策略，如果系统挂掉，数据就会丢失。

消费者先提交offset，再消费。



**解决办法**

重复消费：offset机制，保证幂等性

消息丢失：ACK确认机制；同步刷盘；先消费后提交；

### 5、数据库三范式

第一范式每一**列都是不可分割**的原子项。

第二范式，**非主键属性必须依赖于主键**属性。

第三范式，**非主键属性必须直接依赖于主键**，而不能间接依赖于主键。

### 6、mysql存储过程

MySQL存储过程是一种**在数据库中存储复杂程序，以便外部程序调用**的一种数据库对象。存储过程是为了**完成特定功能的SQL语句集**，经编译创建并保存在数据库中，用户可通过指定存储过程的名字并给定参数 (需要时)来调用执行。

### 7、mysql优缺点

- 优点：
    - **体积小、速度快、总体拥有成本低，开源，提供的接口支持多种语言连接操作**。
    - MySQL 的核心程序采用完全的**多线程编程**。
- 缺点：
    - 不支持**热备份**。
    - 不支持**自定义数据类型**。
    - MySQL最大的缺点是其**安全系统，主要是复杂**而非标准，另外只有到调用mysqladmin来重读用户权限时才发生改变。

### 8、进程和线程的区别

进程是操作系统**资源分配**的基本单位，而线程是**任务调度和执行**的基本单位。

线程是进程内的一个执行单元，进程内至少有一个线程，它们**共享进程的地址空间**，而进程有自己**独立的地址空间**。

同一个进程内的线程**共享进程的资源**，如内存、I/O等。

### 9、synchronized和 ReentrantLock区别

1. 用法不同：synchronized可以用来修饰普通方法、静态方法和代码块，而ReentrantLock**只能用于代码块**。
2. 获取锁和释放锁的机制不同：synchronized是**自动加锁和释放锁**，而ReentrantLock则需要手动获取和释放锁。
3. ReentrantLock可以实现**公平锁**，而synchronized只能是非公平锁。

### 10、堆和栈的区别

空间地址是否连续

存储的对象是什么

是否有垃圾回收机制

### 11、spring是什么

企业级应用程序开发框架，简化企业级应用程序开发。

+ 实现了IOC容器，对Java对象进行管理，降低对象替换的复杂性。
+ 使用AOP增强，实现事务，日志，异常的统一配置和管理。
+ 方便集成其它的优秀框架，例如mybatics
+ 降低JavaEEAPI的使用难度，例如JDBC，远程调用
+ 方便测试程序，支持Junit

### 12、spring主要模块

+ 核心容器：提供控制反转和依赖注入，管理been对象。
+ web：提供了web程序的开发功能，例如MVC框架。
+ 数据访问：提供了对数据库的操作等，例如JDBC，对象关系映射。
+ 测试：提供单元测试和集成测试
+ AOP：提供面向切面编程的实现，将代码按照功能进行分类

### 13、IOC

将对象的创建和依赖的管理从程序代码移动到外部容器。

### 14、AOP

在不修改原有代码的情况下动态增强某个类或方法的职责。

